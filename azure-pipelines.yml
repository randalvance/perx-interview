trigger:
    - master

pool:
    vmImage: 'ubuntu-latest'

steps:
    - task: NodeTool@0
      inputs:
          versionSpec: '10.x'
      displayName: 'Install Node.js'
    - script: |
          npm install
          npm run build
      displayName: 'Build App'
    - task: Docker@2
      inputs:
          containerRegistry: 'Docker Hub'
          repository: 'randal/perx-interview'
          command: 'buildAndPush'
          Dockerfile: '**/Dockerfile'
          tags: '$(Build.BuildId)'
      displayName: Build and Push Docker Image
